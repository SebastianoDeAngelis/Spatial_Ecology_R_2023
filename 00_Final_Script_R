# Final summary of the course's topics

#----------------

# 01_Beginning

# ashtags are made for comments!! # it is extremely important to always comment on the side of each operation!

# really dont be shy, just comment a lot

# usin R just as a calculator and object name assignment

a <- 2+3*2+(7/8)

seba <- 5+4*2-12.5

final <-- seba*a

final^2

#make an array with data

Plas <- c(10, 20, 30, 50, 70) # number of microplastic found in a finnite area

People <- c(100, 500, 600, 1000, 2000) # number of people found in the determinate area

plot (People, Plas, xlab="number of people", ylab="microplastics)

#this makes it possible to add labels to graphs dimensions

#add point characters to graphs

plot (People, Plas, xlab="number of people", ylab="microplastics", pch=16, cex=0.4, col=blue)

# "pch" (point character) is for the shape, "cex" is for the size of dots in the plot, and "col" is for color

#----------------

# 02_Population_Density

#### Populations: group of Individuals all attaining to the same species
#### Density number of individuals per unit area of a species, usually is an interplay between phonomenon that add individuals (birth, immigration) combined with individual removal (death or emigration)
#### Dispersion is the pattern of spacing among individuals within the boundaries of a population
#### Patterns of dispersion within a population can be: clumped, uniform, or randomic
#### Demography is the study of dynamics in a population, its individual's vital statistics (check for survivorship curve)
#### Carrying capacity is the amount of individuals of a population or species that can be sustained by the resources in the environmente
#### r species: selected for life cycle traits that maximie reproduction
#### K species: selected for life cycle traits that are related to higher competition
#### Metapopulations are groups of populations linked by immigration and emigration
#### Estimates on carrying capacity of humans on Earth tells is 10-15 billion
####
#install.packages("spatstat")
library(spatstat)

bei
plot(bei, pch=19, cex=.5) #setting size and shape of the points in the map

# density map building: from points to a countinous surface
density_map <- density(bei)
plot(density_map)  ##setting the colours

# adding points on top of the image generated
points(bei, cex = .3)
##setting the colours
colour <- colorRampPalette(c("black", "red", "orange", "yellow", "white"))(100)
plot(density_map, col=colour)

##building our own color palette
colour2 <- colorRampPalette(c("darkolivegreen", "darkolivegreen3", "yellowgreen", "yellow", "azure" ))(100)

# more data from beiextra
plot(bei.extra)
elev <- bei.extra[[1]]
plot(elev)

#plotting both elevation and density; or any other variable alltogether: multiframe
# mf = multiframe
par(mfrow = c(1,2))
plot(densitymap)
plot(elev)

par(mfrow = c(2,1))
plot(densitymap)
plot(elev)

par(mfrow = c(1,3))
plot(density_map, col = colour2)
plot(elev, col = colour2)
plot(bei)
#----------------

# 02.2_Population_Dtistribution

## install.packages("sdm", "terra") -which are predictors-
#sdm: species distribution model
#### why populations disperse over the landscape? and how?

library(sdm)
library(terra

file <- system.file("external/species.shp", package="sdm")

Rana_alpina <- vect(file)

# occurrence data only talks about only the occurrence of a species, not its abundance

Rana_alpina$Occurrence  

plot(Rana_alpina)

# Selecting the presence 


#### selecting presences
presence <- Rana_alpina[Rana_alpina$Occurrence == 1]
presence
presence$Occurrence

#### selecting absences

absence <- Rana_alpina[Rana_alpina$Occurrence == 0]
absence
absence$Occurrence

#plotting presences and absences in a multiframe

par(mfrow=c(1,2))
plot(presence, cex = .5)
plot(absence, cex = .5)
      # closing a multiframe
dev.off()

# plotting pres and abse alltogether with different colours
dev.off()
plot(presence, cex = .5, col="navy")
points(absence, cex = .5, col="azure3")  #adding other points to an already existing plot. insted of using the function plot we use the points function so the data in the plot are not rewritten


### using environment predictors for the occurrence distribution
    ## using the "path" object to find the path for an external file
elev <- system.file("external/elevation.asc", package="sdm") 
 ### in order to plot a raster graph in this case we are plotting an image so we need to use a function called "rast()"
elevmap <- rast(elev)
plot(elevmap, col=colour)
points(presence, col = "green3", cex = .6)

### using OTHER ENVIRONMENTAL PREDICTORS and creating a multiframe with all of them

temp <- system.file("external/temperature.asc", package="sdm") 
prec <- system.file("external/precipitation.asc", package="sdm") 
vege <- system.file("external/vegetation.asc", package="sdm") 
par(mfrow = c(2,2))
tempmap <- rast(temp)
precmap <- rast(prec)
vegemap <- rast(vege)

plot(tempmap, col =colour)
points(presence, col = "green3", cex = .6)
plot(precmap, col = colour)
points(presence, col = "green3", cex = .6)
plot(vegemap, col = colour)
points(presence, col = "green3", cex = .6)
plot(elevmap, col=colour)
points(presence, col = "green3", cex = .6)

#----------------

# 03_Community_Ecology


